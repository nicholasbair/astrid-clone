<%= form_wrapper do %>
  <h1>
    <%= @list.title %>
    <a href="<%= edit_user_list_path(current_user, @list) %>">
      <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
    </a>
  </h1>
  <!-- TODO: too much logic here, #41 -->
  <% if @list.deadline && @list.status != "complete" %>
    <p class="<%= @list.overdue? ? 'overdue' : '' %>">Due: <%= print_due_date(@list) %></p>
  <% end %>
  <ul>
    <%= render partial: "task", collection: @list.tasks %>
  </ul>

  <%= form_for [current_user, @list] do |f| %>
    <%= render_add_task(f) %>
    <%= f.submit "Add task", :class => "btn btn-success" %>
  <% end %>
  <div class="row">
    <div class="col-md-3">
      <%= button_to "Delete List", user_list_path(current_user, @list),
        :method => :delete, :class => "btn btn-danger delete-btn",
        data: { confirm: "Danger, this will delete list and all associated tasks" }
      %>
    </div>
  </div>
<% end %>
